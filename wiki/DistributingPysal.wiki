#summary How to build PySAL distributions

= Introduction =

This page explains how to build source and "binary" distributions of pysal. 

= Source Distros =

The work of specifying files and folders to include in a pysal source distribution has been done.  These things are specified in setup.py and MANIFEST.in.  To build a new source package, run {{{python setup.py sdist --formats=gztar,zip}}} to generate two source distributions. 

A good reference is http://docs.python.org/distutils/sourcedist.html

= Binary distros =

Making a Windows binary, with a not-so-shabby installer, is not too difficult as long as we rely on the user to provide the package dependencies.  Run {{{python setup.py bdist_wininst}}} to generate a Windows graphical installer on either OS X or Windows. On Windows only, the option exists to use the Microsoft Installer format MSI, which is prettier but allows the user to install the package in the wrong place. For a look at that, on Windows run {{{python setup.py bdist --formats=msi}}}. 

To make a Mac OS X graphical installer, first install 'bdist_mpkg' from the Python Package Index using {{{easy_install bdist_mpkg}}} or {{{pip install bdist_mpkg}}}. Then, run {{{bdist_mpkg setup.py build}}}, which build a package installer in the dist/ directory.  To convert that .mpkg into a disk image suitable for distribution, first place the .mpkg into its own folder, then use the following command, substituting where appropriate: 
{{{hdiutil create -fs HFS+ -srcfolder new_folder/ desired_filename.dmg}}}